# filename: birthrate_sdg_app.py

import streamlit as st
import pandas as pd
import plotly.express as px

# 데이터 준비
birth_data = {
    "연도": list(range(1970, 2024)),
    "출생아수(천 명)": [1007.0, 1025.0, 953.0, 966.0, 923.0, 874.0, 796.0, 825.0, 751.0,
                    717.0, 715.0, 719.0, 703.0, 681.0, 675.0, 668.0, 657.0, 668.0, 690.0,
                    715.0, 728.0, 709.0, 712.0, 709.0, 682.0, 649.0, 650.0, 640.0, 640.0,
                    637.0, 636.0, 637.0, 640.0, 637.0, 640.0, 641.0, 640.0, 636.0, 641.0,
                    640.0, 636.0, 640.0, 641.0, 635.0, 621.0, 581.0, 498.6, 470.2, 435.4,
                    438.4, 406.2, 357.8, 326.8, 302.7, 272.3, 260.6, 249.1, 230.0]
}

df = pd.DataFrame(birth_data)

# 앱 제목
st.title("👶 대한민국 출생아 수 변화와 지속가능한 미래")
st.markdown("1970년부터 2023년까지 대한민국의 출생아 수 데이터를 시각화하고, SDGs와 연결해 토론 및 확장 활동을 제안합니다.")

# 시각화
st.subheader("📈 출생아 수 변화 추이 (1970~2023)")
fig = px.line(df, x="연도", y="출생아수(천 명)", markers=True, title="출생아 수 추이")
st.plotly_chart(fig)

# 최근 10년 평균
st.subheader("📉 최근 10년 평균 출생아 수")
recent_mean = df[df["연도"] >= 2014]["출생아수(천 명)"].mean()
st.write(f"최근 10년 평균 출생아 수: **{recent_mean:.1f}천 명**")

# SDGs 연결
st.subheader("🌍 SDGs와의 연결")
st.markdown("""
출산율 감소는 다음과 같은 SDGs 목표와 관련이 있습니다:

- **SDG 3: 건강과 웰빙** – 산모의 건강, 출산 의료 서비스 접근성  
- **SDG 5: 성평등** – 경력 단절, 양육 부담의 성별 격차  
- **SDG 8: 양질의 일자리** – 고용 불안정, 워라밸 문제  
- **SDG 11: 지속 가능한 도시와 공동체** – 육아 인프라 부족, 지역 편중
""")

# 토론 질문
st.subheader("🗣️ 학생 토론 질문")
st.markdown("""
1. 출생아 수 감소는 우리 사회에 어떤 영향을 줄까요?  
2. 저출산 문제를 해결하기 위한 정책은 어떤 방향이어야 할까요?  
3. 청소년의 입장에서 ‘아이를 낳고 기르는 사회’가 되기 위해 필요한 것은 무엇일까요?  
4. 출산율과 성평등은 어떤 관계가 있을까요?
""")

# 교육적 함의
st.subheader("📚 교육적 함의")
st.markdown("""
- **시계열 데이터 해석 능력**을 키우고 사회 현상의 변화를 수치로 이해할 수 있습니다.  
- **사회 문제와 데이터의 연결**을 통해 문제 해결 중심의 사고를 유도합니다.  
- **지속가능한 사회의 조건**에 대해 논의하고 비판적으로 사고할 수 있습니다.
""")

# 확장 활동
st.subheader("🚀 확장 활동 제안")
st.markdown("""
- **국가별 출산율 비교**: 다른 국가의 출산율 데이터와 비교해 보세요.  
- **정책 제안 프로젝트**: 팀별로 ‘청소년이 생각하는 저출산 해결 정책’을 기획해보세요.  
- **세대 인터뷰 과제**: 부모 세대와의 인터뷰를 통해 출산에 대한 인식 차이를 알아보세요.  
- **출산율 예측 모델 만들기**: 간단한 회귀 모델을 통해 미래의 출생아 수를 예측해볼 수 있어요.
""")
